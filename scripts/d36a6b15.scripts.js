"use strict";var app=angular.module("testMakerApp",["ngCookies","ngResource","ngSanitize","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/Question/:package/:id/",{templateUrl:"views/question.html",controller:"QuestionCtrl"}).when("/About",{templateUrl:"views/about.html"}).otherwise({redirectTo:"/"})}]);app.controller("MainCtrl",["$scope","PackageManagerService",function(a,b){a.availablePackages=b.availablePackages}]),app.controller("QuestionCtrl",["$scope","$routeParams","OverallService","PackageManagerService",function(a,b,c,d){a.selectedId="",a.id=b.id,a.package=b.package,a.nextId=parseInt(b.id,10)+1,a.correctCounter=c.correctCounter,a.wrongCounter=c.wrongCounter,a.streakCounter=c.streakCounter,a.bestStreakCounter=c.bestStreakCounter;var e=function(){a.correctCounter=c.correctCounter,a.wrongCounter=c.wrongCounter,a.streakCounter=c.streakCounter,a.bestStreakCounter=c.bestStreakCounter};a.select=function(b){a.selectedId=b},a.try=function(){a.correction=!0,a.selectedId===a.correctId?c.addCorrect():c.addWrong(),e()},d.getPackage(a.package).get(function(b){a.question=b[a.id].question,a.answers=b[a.id].answers,a.correctId=b[a.id].correct})}]),app.service("OverallService",function(){this.correctCounter=0,this.wrongCounter=0,this.streakCounter=0,this.bestStreakCounter=0,this.addCorrect=function(){this.correctCounter++,this.streakCounter++,this.streakCounter>this.bestStreakCounter&&(this.bestStreakCounter=this.streakCounter)},this.addWrong=function(){this.wrongCounter++,this.streakCounter=0}}),app.service("PackageManagerService",["$resource",function(a){this.baseLocation="questions/",this.availablePackages=[{label:"GDS April",keyName:"gdsApril"},{label:"GDS June",keyName:"gdsJune"},{label:"Itil 1er Parcial",keyName:"itil1Parcial"}],this.getPackage=function(b){return a(this.baseLocation+b+".json")}}]);